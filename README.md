# 后端集合
开发语言：javascript

技术：vue

功能说明：erp+商城手机端+商城后台

开发部署：
1、安装依耐
npm install

2、商城手机端运行：
npm run shop
访问
localhost:8200

3、商城后台运行：
npm run admin
访问
localhost:8100

4、erp后台运行：
npm run erp
访问
localhost:8000


代码规范：
文件名采用小写加下划线命名，因为有些系统对大写开头的文件名不敏感。
变量采用驼峰，小写字母开头
函数采用驼峰，小写字母开头
类 采用大写字母开头 

需求修改：
1、erp增加同步物流单号功能，能将物流单号同步到商城
2、商城后台可以修改订单价格（总价）
3、手机上传图片报错问题处理
4、商城的所有图片定好图片大小在后台编辑页面显示
5、商城收货地址自动填充功能问题处理
6、导航问题处理，商城页面，前进刷新页面，后退不刷新
7、支付页面，增加复制功能，可以复制支付码
8、erp增加配货页面，显示配货后的订单，并能修改他的物流单号，可同步到商城
9、erp优化：加快页面刷新速度
10、商城批量导入增加用户账号字段
11、微信pc版本订单页面显示异常的不兼容问题
12、商城页面增加导入模板下载功能
13、特殊标识为空，导出erp报错问题处理

2018.07.14：
1、erp批量修改物流单号功能

2018.07.24:
1、1罐不可以下单，3罐可以下单，以3的倍数下单
2、特殊服务要收费==分为拍照和视频，拍照收5元/3罐，视频10元/个

2018.07.26:
1、商城增加修改用户名功能
2、用微信unoinid判断用户唯一性

2018.08.9:
1、增加发件人名字和电话 默认发件人是Australia
2、订单列表增加 总金额的列
3、商城订单列表显示收件人信息
4、付款审核后直接同步到erp
5、调整了商城ui显示


2018.08.10:
1、商城后台订单显示调整，全部字段显示
2、商城后台待发货页去掉
3、商品增加按照用户组定价
4、导出订单增加商品信息 商品名  数量
5、订单增加运费字段：新疆，青海，这三个地方的按3的倍数收运费其它地区免费可导出50元/3罐
6、订单增加服务费字段，可导出


2018.08.21
1、商品增加字段，控制导出erp时 是否变成已发货并更新物流
2、支付方式增加 支付宝和银行转账
3、审核支付时 增加选项，1、已付款审核  2、未付款审核
4、商品增加导出功能


2018.08.22
1、订单合并支付功能完成
2、优化代码逻辑
测试内容：
1、商品购买到订单导出erp流程（不合并支付）
2、商品购买到订单导出erp流程（合并支付）


2018.08.30
1、商城后台：订单中可以搜索会员昵称或者会员账号
1、商城后台：增加汇总显示页面

2018.08.31
1、买家账号订单绘总  然后 订单数量  总罐数  总金额

2018.9.5
1、商品下架了，或商品库存为0不让买

2018.9.6
1、erp销售单，增加同步商城的状态字段
4、批量同步单号，成功后显示同步成功的单号
5、指量同步商城分两个按键，同步全部和同步所选
7、设置哪些产品是否可以选特殊服务（图
6、商城订单列表加搜索，筛选条件可以是收件人名，或者日期，或者产品
2、商城增批量审单功能
3、服务端同步的时候 直接 把 代发仓AB单号 过滤掉
1、物流系统后台，配独立域名
2、物流系统增加手动新增和导入csv功能
3、只针对AB12345678AU这种格式的做物流跟踪信息

2018.11.1
1、商品增加销量统计（单位罐，销量大于0才显示）
2、商品增加保质期字段（可以后台修改）
3、商品描述可以添加视频

2018.11.2
1、商城后台搜索用户组有点怪
2、erp销售订单不能清除状态搜索 
3、商城订单哪里，帮我加一个筛选条件：商品名
4、购物车点删除只能删除一个
4、商品分组价格问题处理
5、24小时后才显示第一条进度是吗


2018.11.6
1、商城新增地址可以通过剪贴板自动识别
2、电话号码正确性检查

2018.11.12
1、erp在途数问题处理
2、商城导出订单功能

2018.11.15
1、会员信息新增“跟单员标识”
2、订单管理增加“已关闭订单的显示”，增加“跟单员标识”的筛选条件
3、会员信息关联管理员（管理员登录后台，只显示有关联的会员的下单信息）
4、按照产品来分是否一定要身份证号码才可以下单

2018.11.19
1、商品增加发货方式字段
2、erp销售单增加发货方式字段
3、取消退款功能

2018.11.21
1、保税区的青海、内蒙古、宁夏、甘肃、新疆、西藏每罐补10元/罐 运费
3、限制用户的购物车和地址栏数量
4、限制用户填写地址的大小

2018.11.25
1、商品新加最小购买数量，购买数量要大于这个数量 订单才可以提交
2、erp到时加一个刷新AB物流单号的功能


2018.11.29
1、driver: bad connection 后 err:sql: Transaction has already been committed or rolled back的问题
2018/11/19 19:15:45.793 [E] [common.go:53] err:driver: bad connection
maxBadConnRetries
MaxOpenConns
2、身份证上传增加图像识别功能
3、物流网站
www.ausbondexpress.com 
ausbondexpress.bqmarket.com


2018.15.5
1、导入表格的时候，可不可以选择进度
2、物流网站调整了一下显示
3、增加转运国内快递信息
4、物流进度时间显示到分
5、物流系统每2天定时更新进度及保存数据库


待处理
网站全用https(太贵了不搞了)

1、商城点物流号，可以显示物流




